<ion-header>
  <ion-toolbar color="cinza" class="ion-padding-horizontal">
    <ion-grid>
      <ion-row>

        <ion-col size="10">
          <ion-thumbnail>
            <img src="../../../assets/logotcc.png" />
          </ion-thumbnail>
        </ion-col>

        <ion-col size="2" class="colSpace">
          <ion-buttons>
          <ion-button  expand="block" color="dark" fill="outline" routerLink="/post" class="buttonAdd">
            <ion-icon color="dark" name="add-outline"></ion-icon>
            
          </ion-button>
        </ion-buttons>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content color="cinza" [fullscreen]="true">

  <ion-list *ngIf="!Posts.length" lines="none">
    <div *ngFor="let item of [0,1,2,3,4,5]">
      <ion-card class="skeleton">
        <ion-skeleton-text animated></ion-skeleton-text>
      </ion-card>
    </div>
  </ion-list>


  <ion-list lines="none">
    <ion-item color="cinza" *ngFor="let post of Posts" #users>
      <ion-card>
        <ion-card-header color="vermelho">
          <ion-item class="user-bar">
            <ion-avatar slot="start">
              <img src="{{ post.fotoUsuario }}" alt="">
            </ion-avatar>
            <ion-label>
              <h6 color="light">{{post.emailUsuario}}</h6>
              <p class="data" color="light">{{post.dataPost}} {{post.timePost}}</p>
              <ion-buttons slot="end">
                <ion-icon name="ellipsis-horizontal" color="light" (click)="post.options = !post.options"></ion-icon>
              </ion-buttons>
            </ion-label>

          </ion-item>
        </ion-card-header>
        <div class="options" *ngIf="post.options == true">
          <ion-list>
            <ion-item>
              Compartilhar<ion-icon name="share-social" color="vermelho"></ion-icon>
            </ion-item>

            <ion-item *ngIf="post.emailUsuario === userLocal.email" [routerLink]="['/update-post/', post.$key]">
              Editar<ion-icon name="pencil" color="vermelho"></ion-icon>
            </ion-item>

            <ion-item *ngIf="post.emailUsuario === userLocal.email" (click)="deletePost(post.$key)">
              Excluir <ion-icon name="trash" color="vermelho"></ion-icon>
            </ion-item>

            <ion-item *ngIf="post.emailUsuario != userLocal.email">
              Reportar <ion-icon name="warning" color="vermelho"></ion-icon>
            </ion-item>
          </ion-list>
        </div>
        <ion-card-header>
          <ion-card-title class="ion-text-center ion-padding" *ngIf="post.urgente == 'naourgente'">{{post.titulo}}
          </ion-card-title>
          <ion-grid *ngIf="post.urgente == 'urgente'">
            <ion-row>
              <ion-col size="10" class="ion-text-center">
                <ion-card-title>{{post.titulo}}</ion-card-title>

              </ion-col>
              <ion-col size="2" class="ion-text-center">
                <ion-icon name="alert-circle" color="warning"></ion-icon>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card-header>

        <ion-card-content>
          <ion-text color="dark"><p class="ion-description">{{post.descricao}}<p></ion-text>
        </ion-card-content>
        <ion-button color="dark" fill="outline" expand="block" [routerLink]="['/profile/', post.$key]">
          <ion-icon name="chatbubbles-outline"></ion-icon> &nbsp; Coment√°rios
        </ion-button>

      </ion-card>
    </ion-item>
  </ion-list>
</ion-content>